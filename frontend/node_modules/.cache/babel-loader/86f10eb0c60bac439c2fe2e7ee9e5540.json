{"ast":null,"code":"import _regeneratorRuntime from \"/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/src/front/VideoCallPage.js\";\n\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Link } from 'react-router-dom';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport AgoraRTC from \"agora-rtc-sdk\";\nimport { AGORA_APP_ID } from \"../agora.config\";\nimport http from '../http';\nexport var VideoCallPage = function VideoCallPage() {\n  var navigate = useNavigate();\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      allusers = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      allstart = _useState4[0],\n      setStart = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      allchatusers = _useState6[0],\n      setChatusers = _useState6[1];\n\n  useEffect(function () {\n    fetchAllUsers();\n  }, []);\n  var rtc = [];\n  var options = {\n    'appId': 'f31feed969ef438b8f501a27c3b73ce6',\n    'name': 'DemoChannel',\n    'token': ''\n  };\n\n  var initClientEvents = function initClientEvents() {\n    rtc.current.client.on(\"user-published\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(user, mediaType) {\n        var remoteVideoTrack, remoteAudioTrack;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return rtc.current.client.subscribe(user, mediaType);\n\n              case 2:\n                if (mediaType === \"video\") {\n                  remoteVideoTrack = user.videoTrack;\n                  setUsers(function (prevUsers) {\n                    return [].concat(_toConsumableArray(prevUsers), [{\n                      uid: user.uid,\n                      audio: user.hasAudio,\n                      video: user.hasVideo,\n                      client: false,\n                      videoTrack: remoteVideoTrack\n                    }]);\n                  });\n                }\n\n                if (mediaType === \"audio\") {\n                  remoteAudioTrack = user.audioTrack;\n                  remoteAudioTrack.play();\n                  setUsers(function (prevUsers) {\n                    return prevUsers.map(function (User) {\n                      if (User.uid === user.uid) {\n                        return _objectSpread({}, User, {\n                          audio: user.hasAudio\n                        });\n                      }\n\n                      return User;\n                    });\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    rtc.current.client.on(\"user-unpublished\", function (user, type) {\n      //User Leaves\n      if (type === 'audio') {\n        setUsers(function (prevUsers) {\n          return prevUsers.map(function (User) {\n            if (User.uid === user.uid) {\n              return _objectSpread({}, User, {\n                audio: !User.audio\n              });\n            }\n\n            return User;\n          });\n        });\n      }\n\n      if (type === 'video') {\n        setUsers(function (prevUsers) {\n          return prevUsers.filter(function (User) {\n            return User.uid !== user.uid;\n          });\n        });\n      }\n    });\n  };\n\n  var fetchAllUsers = function fetchAllUsers() {\n    var tokenString = sessionStorage.getItem('token'); // const userToken = JSON.stringify(tokenString);\n    //console.log(userToken);\n\n    if (tokenString === null) {\n      alert('Please Login!');\n      navigate('/Login');\n    }\n\n    http.get('/userdetails/' + id).then(function (res) {\n      try {\n        //setChatusers(res.data);\n        console.log(res.data);\n\n        var init = /*#__PURE__*/function () {\n          var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name) {\n            var uid;\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    rtc.current.client = AgoraRTC.createClient({\n                      mode: \"rtc\",\n                      codec: \"vp8\"\n                    });\n                    initClientEvents();\n                    _context2.next = 4;\n                    return rtc.current.client.join(options.appId, name, options.token, null);\n\n                  case 4:\n                    uid = _context2.sent;\n                    _context2.next = 7;\n                    return AgoraRTC.createMicrophoneAudioTrack();\n\n                  case 7:\n                    rtc.current.localAudioTrack = _context2.sent;\n                    _context2.next = 10;\n                    return AgoraRTC.createCameraVideoTrack();\n\n                  case 10:\n                    rtc.current.localVideoTrack = _context2.sent;\n                    //Adding a User to the Users State\n                    setUsers(function (prevUsers) {\n                      return [].concat(_toConsumableArray(prevUsers), [{\n                        uid: uid,\n                        audio: true,\n                        video: true,\n                        client: true,\n                        videoTrack: rtc.current.localVideoTrack\n                      }]);\n                    }); //Publishing your Streams\n\n                    _context2.next = 14;\n                    return rtc.current.client.publish([rtc.current.localAudioTrack, rtc.current.localVideoTrack]);\n\n                  case 14:\n                    setStart(true);\n\n                  case 15:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n\n          return function init(_x3) {\n            return _ref2.apply(this, arguments);\n          };\n        }();\n      } catch (e) {\n        console.log('error', e);\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"clearfix\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/user1.jpg\",\n    className: \"img-fluid\",\n    alt: \"img\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 28\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"video-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/rita-img.jpg\",\n    className: \"rounded img-fluid\",\n    alt: \"img\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 28\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-i-refresh\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoChat\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-refresh \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 22\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"videocall-btn-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoCallPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-microphone\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoCallPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 22\n    }\n  }, \"Hold\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/Chat\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-phone icon-rotate\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoCallPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-user-plus\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoCallPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-video-camera\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 45\n    }\n  })))))))));\n};\nexport default VideoCallPage;","map":{"version":3,"names":["React","Link","useEffect","useState","useNavigate","useParams","AgoraRTC","AGORA_APP_ID","http","VideoCallPage","navigate","id","allusers","setUsers","allstart","setStart","allchatusers","setChatusers","fetchAllUsers","rtc","options","initClientEvents","current","client","on","user","mediaType","subscribe","remoteVideoTrack","videoTrack","prevUsers","uid","audio","hasAudio","video","hasVideo","remoteAudioTrack","audioTrack","play","map","User","type","filter","tokenString","sessionStorage","getItem","alert","get","then","res","console","log","data","init","name","createClient","mode","codec","join","appId","token","createMicrophoneAudioTrack","localAudioTrack","createCameraVideoTrack","localVideoTrack","publish","e"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/src/front/VideoCallPage.js"],"sourcesContent":["import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Link } from 'react-router-dom';\r\nimport 'bootstrap/dist/js/bootstrap.min.js';\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport AgoraRTC from \"agora-rtc-sdk\";\r\nimport { AGORA_APP_ID } from \"../agora.config\";\r\nimport http from '../http'\r\nexport const VideoCallPage = () => {  \r\n     const navigate = useNavigate();\r\n     const {id} = useParams(); \r\n      \r\n      const[allusers, setUsers] = useState([]);\r\n      const[allstart, setStart] = useState([]);\r\n      const[allchatusers, setChatusers] = useState([]);\r\n         useEffect(()=>{\r\n            fetchAllUsers();\r\n         },[]);\r\n\r\n         const rtc = [];\r\n         let options = {\r\n           'appId' : 'f31feed969ef438b8f501a27c3b73ce6',\r\n           'name' : 'DemoChannel',\r\n           'token' : ''\r\n         };\r\n\r\n         const initClientEvents = () => {\r\n            rtc.current.client.on(\"user-published\", async (user, mediaType) => {\r\n              // New User Enters\r\n              await rtc.current.client.subscribe(user, mediaType);\r\n              if (mediaType === \"video\") {\r\n                const remoteVideoTrack = user.videoTrack;\r\n                setUsers((prevUsers) => {\r\n                  return [...prevUsers, { uid: user.uid, audio: user.hasAudio, video: user.hasVideo, client: false, videoTrack: remoteVideoTrack }]\r\n                })\r\n              }\r\n        \r\n              if (mediaType === \"audio\") {\r\n                const remoteAudioTrack = user.audioTrack;\r\n                remoteAudioTrack.play();\r\n                setUsers((prevUsers) => {\r\n                  return (prevUsers.map((User) => {\r\n                    if (User.uid === user.uid) {\r\n                      return { ...User, audio: user.hasAudio }\r\n                    }\r\n                    return User\r\n                  }))\r\n                })\r\n              }\r\n            });\r\n        \r\n            rtc.current.client.on(\"user-unpublished\", (user, type) => {\r\n              //User Leaves\r\n              if (type === 'audio') {\r\n                setUsers(prevUsers => {\r\n                  return (prevUsers.map((User) => {\r\n                    if (User.uid === user.uid) {\r\n                      return { ...User, audio: !User.audio }\r\n                    }\r\n                    return User\r\n                  }))\r\n                })\r\n              }\r\n              if (type === 'video') {\r\n                setUsers((prevUsers) => {\r\n                  return prevUsers.filter(User => User.uid !== user.uid)\r\n                })\r\n              }\r\n            });\r\n          }   \r\n\r\n      const fetchAllUsers = () => {\r\n            const tokenString = sessionStorage.getItem('token');\r\n           // const userToken = JSON.stringify(tokenString);\r\n            //console.log(userToken);\r\n            if(tokenString === null){\r\n               alert('Please Login!')\r\n               navigate('/Login');\r\n            }\r\n   \r\n         http.get('/userdetails/'+id).then(res=>{\r\n           try{\r\n            //setChatusers(res.data);\r\n              console.log(res.data);\r\n             \r\n             let init = async (name) => {\r\n               rtc.current.client = AgoraRTC.createClient({ mode: \"rtc\", codec: \"vp8\" });\r\n               initClientEvents()\r\n               const uid = await rtc.current.client.join(options.appId, name, options.token, null);\r\n               // Create an audio track from the audio sampled by a microphone.\r\n               rtc.current.localAudioTrack = await AgoraRTC.createMicrophoneAudioTrack();\r\n               // Create a video track from the video captured by a camera.\r\n               rtc.current.localVideoTrack = await AgoraRTC.createCameraVideoTrack();\r\n               //Adding a User to the Users State\r\n               setUsers((prevUsers) => {\r\n               return [...prevUsers, { uid: uid, audio: true, video: true, client: true, videoTrack: rtc.current.localVideoTrack }]\r\n               })\r\n               //Publishing your Streams\r\n               await rtc.current.client.publish([rtc.current.localAudioTrack, rtc.current.localVideoTrack]);\r\n               setStart(true)\r\n            }\r\n               \r\n            }catch(e){\r\n              console.log('error', e);        \r\n            }\r\n   \r\n         })\r\n   \r\n        } \r\nreturn (\r\n<>\r\n<section>\r\n   <div className=\"video-call-section\">\r\n            <div className=\"card\">\r\n               <div className=\"chat\">\r\n                  <div className=\"clearfix\">\r\n                     <div className=\"col-12\">\r\n                        <div className=\"video-call\">\r\n                           <img src=\"/img/user1.jpg\" className=\"img-fluid\" alt=\"img\"/>\r\n                        </div>\r\n                        <div class=\"video-sm\">\r\n                           <img src=\"/img/rita-img.jpg\" className=\"rounded img-fluid\" alt=\"img\"/>\r\n                        </div>\r\n                     </div>\r\n                  </div>\r\n                  <div className=\"chat-i-refresh\">\r\n                     <Link to=\"/VideoChat\">\r\n                     <i className=\"fa fa-refresh \"></i></Link>\r\n                  </div>\r\n                  <div className=\"videocall-btn-section\">\r\n                     <Link to=\"/VideoCallPage\">\r\n                     <span className=\"btn3\"><i className=\"fa fa-microphone\"></i></span></Link>\r\n                     <Link to=\"/VideoCallPage\">\r\n                     <span className=\"btn3\">Hold</span></Link>\r\n                     <Link to=\"/Chat\">\r\n                     <span className=\"btn2\"><i className=\"fa fa-phone icon-rotate\"></i></span></Link>\r\n                     <Link to=\"/VideoCallPage\">\r\n                     <span className=\"btn3\"><i className=\"fa fa-user-plus\"></i></span></Link>\r\n                     <Link to=\"/VideoCallPage\">\r\n                     <span className=\"btn3\"><i className=\"fa fa-video-camera\"></i></span></Link>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </div>\r\n   </section>\r\n</>\r\n)\r\n}\r\nexport default VideoCallPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}