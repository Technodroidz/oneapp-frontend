{"ast":null,"code":"import _slicedToArray from \"/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/src/front/VideoCallPage.js\";\n\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Link } from 'react-router-dom';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\"; // import AgoraRTC from \"agora-rtc-sdk\";\n\nimport { AgoraVideoPlayer, createClient, createMicrophoneAndCameraTracks, ClientConfig, IAgoraRTCRemoteUser, ICameraVideoTrack, IMicrophoneAudioTrack } from \"agora-rtc-react\";\nimport { AGORA_APP_ID } from \"../agora.config\";\nimport http from '../http';\nexport var VideoCallPage = function VideoCallPage() {\n  var navigate = useNavigate();\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      allusers = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      allstart = _useState4[0],\n      setStart = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      allchatusers = _useState6[0],\n      setChatusers = _useState6[1];\n\n  useEffect(function () {\n    fetchAllUsers();\n  }, []);\n  var config = {\n    mode: \"rtc\",\n    codec: \"vp8\"\n  };\n  var useClient = createClient(config);\n  var useMicrophoneAndCameraTracks = createMicrophoneAndCameraTracks();\n  console.log(useMicrophoneAndCameraTracks);\n\n  var App = function App() {\n    var client = useClient();\n\n    var _useMicrophoneAndCame = useMicrophoneAndCameraTracks(),\n        ready = _useMicrophoneAndCame.ready,\n        tracks = _useMicrophoneAndCame.tracks;\n\n    return ready && /*#__PURE__*/React.createElement(AgoraVideoPlayer, {\n      videoTrack: tracks[1],\n      style: {\n        height: '100%',\n        width: '100%'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 20\n      }\n    });\n  };\n\n  var fetchAllUsers = function fetchAllUsers() {\n    var tokenString = sessionStorage.getItem('token'); // const userToken = JSON.stringify(tokenString);\n    //console.log(userToken);\n\n    if (tokenString === null) {\n      alert('Please Login!');\n      navigate('/Login');\n    }\n\n    http.get('/userdetails/' + id).then(function (res) {\n      try {\n        //setChatusers(res.data);\n        console.log(res.data);\n        App();\n      } catch (e) {\n        console.log('error', e);\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"clearfix\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/user1.jpg\",\n    className: \"img-fluid\",\n    alt: \"img\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 28\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"video-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/rita-img.jpg\",\n    className: \"rounded img-fluid\",\n    alt: \"img\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 28\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-i-refresh\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoChat\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-refresh \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 22\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"videocall-btn-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoCallPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-microphone\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoCallPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 22\n    }\n  }, \"Hold\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/Chat\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-phone icon-rotate\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoCallPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-user-plus\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoCallPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-video-camera\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 45\n    }\n  })))))))));\n};\nexport default VideoCallPage;","map":{"version":3,"names":["React","Link","useEffect","useState","useNavigate","useParams","AgoraVideoPlayer","createClient","createMicrophoneAndCameraTracks","ClientConfig","IAgoraRTCRemoteUser","ICameraVideoTrack","IMicrophoneAudioTrack","AGORA_APP_ID","http","VideoCallPage","navigate","id","allusers","setUsers","allstart","setStart","allchatusers","setChatusers","fetchAllUsers","config","mode","codec","useClient","useMicrophoneAndCameraTracks","console","log","App","client","ready","tracks","height","width","tokenString","sessionStorage","getItem","alert","get","then","res","data","e"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/src/front/VideoCallPage.js"],"sourcesContent":["import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Link } from 'react-router-dom';\r\nimport 'bootstrap/dist/js/bootstrap.min.js';\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n// import AgoraRTC from \"agora-rtc-sdk\";\r\nimport {\r\n  AgoraVideoPlayer,\r\n  createClient,\r\n  createMicrophoneAndCameraTracks,\r\n  ClientConfig,\r\n  IAgoraRTCRemoteUser,\r\n  ICameraVideoTrack,\r\n  IMicrophoneAudioTrack,\r\n} from \"agora-rtc-react\";\r\nimport { AGORA_APP_ID } from \"../agora.config\";\r\nimport http from '../http'\r\nexport const VideoCallPage = () => {  \r\n     const navigate = useNavigate();\r\n     const {id} = useParams(); \r\n      \r\n      const[allusers, setUsers] = useState([]);\r\n      const[allstart, setStart] = useState([]);\r\n      const[allchatusers, setChatusers] = useState([]);\r\n         useEffect(()=>{\r\n            fetchAllUsers();\r\n         },[]);\r\n\r\n      const config = {mode: \"rtc\", codec: \"vp8\"}  \r\n      const useClient = createClient(config);\r\n      const useMicrophoneAndCameraTracks = createMicrophoneAndCameraTracks();\r\n      console.log(useMicrophoneAndCameraTracks); \r\n      const App = () => {\r\n        const client = useClient();\r\n        const { ready, tracks } = useMicrophoneAndCameraTracks();\r\n      \r\n        return (\r\n          ready && <AgoraVideoPlayer videoTrack={tracks[1]} style={{height: '100%', width: '100%'}} />\r\n        )\r\n      }\r\n\r\n      const fetchAllUsers = () => {\r\n            const tokenString = sessionStorage.getItem('token');\r\n           // const userToken = JSON.stringify(tokenString);\r\n            //console.log(userToken);\r\n            if(tokenString === null){\r\n               alert('Please Login!')\r\n               navigate('/Login');\r\n            }\r\n   \r\n         http.get('/userdetails/'+id).then(res=>{\r\n           try{\r\n            //setChatusers(res.data);\r\n              console.log(res.data);\r\n              App();\r\n               \r\n            }catch(e){\r\n              console.log('error', e);        \r\n            }\r\n   \r\n         })\r\n   \r\n        } \r\nreturn (\r\n<>\r\n<section>\r\n   <div className=\"video-call-section\">\r\n            <div className=\"card\">\r\n               <div className=\"chat\">\r\n                  <div className=\"clearfix\">\r\n                     <div className=\"col-12\">\r\n                        <div className=\"video-call\">\r\n                           <img src=\"/img/user1.jpg\" className=\"img-fluid\" alt=\"img\"/>\r\n                        </div>\r\n                        <div class=\"video-sm\">\r\n                           <img src=\"/img/rita-img.jpg\" className=\"rounded img-fluid\" alt=\"img\"/>\r\n                        </div>\r\n                     </div>\r\n                  </div>\r\n                  <div className=\"chat-i-refresh\">\r\n                     <Link to=\"/VideoChat\">\r\n                     <i className=\"fa fa-refresh \"></i></Link>\r\n                  </div>\r\n                  <div className=\"videocall-btn-section\">\r\n                     <Link to=\"/VideoCallPage\">\r\n                     <span className=\"btn3\"><i className=\"fa fa-microphone\"></i></span></Link>\r\n                     <Link to=\"/VideoCallPage\">\r\n                     <span className=\"btn3\">Hold</span></Link>\r\n                     <Link to=\"/Chat\">\r\n                     <span className=\"btn2\"><i className=\"fa fa-phone icon-rotate\"></i></span></Link>\r\n                     <Link to=\"/VideoCallPage\">\r\n                     <span className=\"btn3\"><i className=\"fa fa-user-plus\"></i></span></Link>\r\n                     <Link to=\"/VideoCallPage\">\r\n                     <span className=\"btn3\"><i className=\"fa fa-video-camera\"></i></span></Link>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </div>\r\n   </section>\r\n</>\r\n)\r\n}\r\nexport default VideoCallPage;"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,sCAAP;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,oCAAP;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,kBAAvC,C,CACA;;AACA,SACEC,gBADF,EAEEC,YAFF,EAGEC,+BAHF,EAIEC,YAJF,EAKEC,mBALF,EAMEC,iBANF,EAOEC,qBAPF,QAQO,iBARP;AASA,SAASC,YAAT,QAA6B,iBAA7B;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;EAC9B,IAAMC,QAAQ,GAAGZ,WAAW,EAA5B;;EAD8B,iBAEjBC,SAAS,EAFQ;EAAA,IAEvBY,EAFuB,cAEvBA,EAFuB;;EAAA,gBAIDd,QAAQ,CAAC,EAAD,CAJP;EAAA;EAAA,IAIvBe,QAJuB;EAAA,IAIbC,QAJa;;EAAA,iBAKDhB,QAAQ,CAAC,EAAD,CALP;EAAA;EAAA,IAKvBiB,QALuB;EAAA,IAKbC,QALa;;EAAA,iBAMOlB,QAAQ,CAAC,EAAD,CANf;EAAA;EAAA,IAMvBmB,YANuB;EAAA,IAMTC,YANS;;EAO1BrB,SAAS,CAAC,YAAI;IACXsB,aAAa;EACf,CAFQ,EAEP,EAFO,CAAT;EAIH,IAAMC,MAAM,GAAG;IAACC,IAAI,EAAE,KAAP;IAAcC,KAAK,EAAE;EAArB,CAAf;EACA,IAAMC,SAAS,GAAGrB,YAAY,CAACkB,MAAD,CAA9B;EACA,IAAMI,4BAA4B,GAAGrB,+BAA+B,EAApE;EACAsB,OAAO,CAACC,GAAR,CAAYF,4BAAZ;;EACA,IAAMG,GAAG,GAAG,SAANA,GAAM,GAAM;IAChB,IAAMC,MAAM,GAAGL,SAAS,EAAxB;;IADgB,4BAEUC,4BAA4B,EAFtC;IAAA,IAERK,KAFQ,yBAERA,KAFQ;IAAA,IAEDC,MAFC,yBAEDA,MAFC;;IAIhB,OACED,KAAK,iBAAI,oBAAC,gBAAD;MAAkB,UAAU,EAAEC,MAAM,CAAC,CAAD,CAApC;MAAyC,KAAK,EAAE;QAACC,MAAM,EAAE,MAAT;QAAiBC,KAAK,EAAE;MAAxB,CAAhD;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADX;EAGD,CAPD;;EASA,IAAMb,aAAa,GAAG,SAAhBA,aAAgB,GAAM;IACtB,IAAMc,WAAW,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAApB,CADsB,CAEvB;IACC;;IACA,IAAGF,WAAW,KAAK,IAAnB,EAAwB;MACrBG,KAAK,CAAC,eAAD,CAAL;MACAzB,QAAQ,CAAC,QAAD,CAAR;IACF;;IAEJF,IAAI,CAAC4B,GAAL,CAAS,kBAAgBzB,EAAzB,EAA6B0B,IAA7B,CAAkC,UAAAC,GAAG,EAAE;MACrC,IAAG;QACF;QACEd,OAAO,CAACC,GAAR,CAAYa,GAAG,CAACC,IAAhB;QACAb,GAAG;MAEJ,CALF,CAKE,OAAMc,CAAN,EAAQ;QACPhB,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBe,CAArB;MACD;IAEH,CAVD;EAYA,CArBH;;EAsBN,oBACA,uDACA;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACG;IAAK,SAAS,EAAC,oBAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACS;IAAK,SAAS,EAAC,MAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACG;IAAK,SAAS,EAAC,MAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACG;IAAK,SAAS,EAAC,UAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACG;IAAK,SAAS,EAAC,QAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACG;IAAK,SAAS,EAAC,YAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACG;IAAK,GAAG,EAAC,gBAAT;IAA0B,SAAS,EAAC,WAApC;IAAgD,GAAG,EAAC,KAApD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADH,CADH,eAIG;IAAK,KAAK,EAAC,UAAX;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACG;IAAK,GAAG,EAAC,mBAAT;IAA6B,SAAS,EAAC,mBAAvC;IAA2D,GAAG,EAAC,KAA/D;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADH,CAJH,CADH,CADH,eAWG;IAAK,SAAS,EAAC,gBAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACG,oBAAC,IAAD;IAAM,EAAE,EAAC,YAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACA;IAAG,SAAS,EAAC,gBAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADA,CADH,CAXH,eAeG;IAAK,SAAS,EAAC,uBAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACG,oBAAC,IAAD;IAAM,EAAE,EAAC,gBAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACA;IAAM,SAAS,EAAC,MAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAAuB;IAAG,SAAS,EAAC,kBAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAvB,CADA,CADH,eAGG,oBAAC,IAAD;IAAM,EAAE,EAAC,gBAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACA;IAAM,SAAS,EAAC,MAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,UADA,CAHH,eAKG,oBAAC,IAAD;IAAM,EAAE,EAAC,OAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACA;IAAM,SAAS,EAAC,MAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAAuB;IAAG,SAAS,EAAC,yBAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAvB,CADA,CALH,eAOG,oBAAC,IAAD;IAAM,EAAE,EAAC,gBAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACA;IAAM,SAAS,EAAC,MAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAAuB;IAAG,SAAS,EAAC,iBAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAvB,CADA,CAPH,eASG,oBAAC,IAAD;IAAM,EAAE,EAAC,gBAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACA;IAAM,SAAS,EAAC,MAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAAuB;IAAG,SAAS,EAAC,oBAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAvB,CADA,CATH,CAfH,CADH,CADT,CADH,CADA,CADA;AAsCC,CApFM;AAqFP,eAAe/B,aAAf"},"metadata":{},"sourceType":"module"}