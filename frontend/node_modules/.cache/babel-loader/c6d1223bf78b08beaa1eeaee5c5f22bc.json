{"ast":null,"code":"import _regeneratorRuntime from \"/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/src/front/VideoCallPage.js\";\n\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Link } from 'react-router-dom';\nimport 'bootstrap/dist/js/bootstrap.min.js';\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { AgoraVideoPlayer, createClient, createMicrophoneAndCameraTracks, ClientConfig, IAgoraRTCRemoteUser, ICameraVideoTrack, IMicrophoneAudioTrack } from \"agora-rtc-react\";\nimport { AGORA_APP_ID } from \"../agora.config\";\nimport ReactPlayer from 'react-player';\nimport http from '../http';\nexport var VideoCallPage = function VideoCallPage() {\n  var navigate = useNavigate();\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      allusers = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      allvideos = _useState4[0],\n      setVideos = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      allstart = _useState6[0],\n      setStart = _useState6[1];\n\n  useEffect(function () {\n    fetchAllUsers();\n  }, []);\n  useEffect(function () {\n    fetchAgoraToken();\n  }, []);\n  var config = {\n    mode: \"rtc\",\n    codec: \"vp8\"\n  };\n  var useClient = createClient(config);\n  var useMicrophoneAndCameraTracks = createMicrophoneAndCameraTracks(); // console.log(useMicrophoneAndCameraTracks); \n\n  var client = useClient();\n\n  var _useMicrophoneAndCame = useMicrophoneAndCameraTracks(),\n      ready = _useMicrophoneAndCame.ready,\n      tracks = _useMicrophoneAndCame.tracks;\n\n  var fetchAllUsers = function fetchAllUsers() {\n    var tokenString = sessionStorage.getItem('token'); // const userToken = JSON.stringify(tokenString);\n    //console.log(userToken);\n\n    if (tokenString === null) {\n      alert('Please Login!');\n      navigate('/Login');\n    }\n\n    http.get('/userdetails/' + id).then(function (res) {\n      try {\n        //setChatusers(res.data);\n        console.log(res.data);\n      } catch (e) {\n        console.log('error', e);\n      }\n    });\n  };\n\n  var channelName = 'DemoChannel';\n\n  var fetchAgoraToken = function fetchAgoraToken() {\n    var userString = sessionStorage.getItem('user');\n    var user_details = JSON.parse(userString); //console.log(user_details.id);\n\n    if (user_details !== null) {\n      var username = user_details.name;\n      http.post('/agora/token', {\n        channelName: channelName,\n        user: username\n      }).then(function (res) {\n        try {\n          console.log(res.data);\n          console.log(tracks);\n        } catch (e) {\n          console.log('error', e);\n        }\n      });\n    }\n  };\n\n  useEffect(function () {\n    // function to initialise the SDK\n    var userString = sessionStorage.getItem('user');\n    var user_details = JSON.parse(userString);\n\n    var init = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                console.log(\"init\", name);\n                client.on(\"user-published\", /*#__PURE__*/function () {\n                  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(user, mediaType) {\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return client.subscribe(user, mediaType);\n\n                          case 2:\n                            console.log(\"subscribe success\");\n\n                            if (mediaType === \"video\") {\n                              setUsers(function (prevUsers) {\n                                return [].concat(_toConsumableArray(prevUsers), [user]);\n                              });\n                            } //  if (mediaType === \"audio\") {\n                            //    user.audioTrack?.play();\n                            //  }\n\n\n                          case 4:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function (_x2, _x3) {\n                    return _ref2.apply(this, arguments);\n                  };\n                }());\n                client.on(\"user-unpublished\", function (user, type) {\n                  console.log(\"unpublished\", user, type); //  if (type === \"audio\") {\n                  //    user.audioTrack?.stop();\n                  //  }\n\n                  if (type === \"video\") {\n                    setUsers(function (prevUsers) {\n                      return prevUsers.filter(function (User) {\n                        return User.uid !== user.uid;\n                      });\n                    });\n                  }\n                });\n                client.on(\"user-left\", function (user) {\n                  console.log(\"leaving\", user);\n                  setUsers(function (prevUsers) {\n                    return prevUsers.filter(function (User) {\n                      return User.uid !== user.uid;\n                    });\n                  });\n                });\n                _context2.next = 6;\n                return client.join(config.appId, name, config.token, null);\n\n              case 6:\n                if (!tracks) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                _context2.next = 9;\n                return client.publish([tracks[0], tracks[1]]);\n\n              case 9:\n                setStart(true);\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function init(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    if (ready && tracks) {\n      console.log(\"init ready\");\n      init(channelName);\n    }\n  }, [channelName, client, ready, tracks]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"section\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"clearfix\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(ReactPlayer, {\n    url: \"https://www.youtube.com/watch?v=ysz5S6PUM-U\",\n    width: \"100%\",\n    height: \"100%\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"video-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(ReactPlayer, {\n    url: \"https://www.youtube.com/watch?v=ysz5S6PUM-U\",\n    width: 100,\n    height: \"100\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-i-refresh\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoChat\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-refresh \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 22\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"videocall-btn-section\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoCallPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-microphone\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoCallPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 22\n    }\n  }, \"Hold\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/Chat\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-phone icon-rotate\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoCallPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-user-plus\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/VideoCallPage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"btn3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-video-camera\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 45\n    }\n  })))))))));\n};\nexport default VideoCallPage;","map":{"version":3,"names":["React","Link","useEffect","useState","useNavigate","useParams","AgoraVideoPlayer","createClient","createMicrophoneAndCameraTracks","ClientConfig","IAgoraRTCRemoteUser","ICameraVideoTrack","IMicrophoneAudioTrack","AGORA_APP_ID","ReactPlayer","http","VideoCallPage","navigate","id","allusers","setUsers","allvideos","setVideos","allstart","setStart","fetchAllUsers","fetchAgoraToken","config","mode","codec","useClient","useMicrophoneAndCameraTracks","client","ready","tracks","tokenString","sessionStorage","getItem","alert","get","then","res","console","log","data","e","channelName","userString","user_details","JSON","parse","username","name","post","user","init","on","mediaType","subscribe","prevUsers","type","filter","User","uid","join","appId","token","publish"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/oneapp-frontend/frontend/src/front/VideoCallPage.js"],"sourcesContent":["import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Link } from 'react-router-dom';\r\nimport 'bootstrap/dist/js/bootstrap.min.js';\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { AgoraVideoPlayer, createClient, createMicrophoneAndCameraTracks, ClientConfig,\r\n  IAgoraRTCRemoteUser, ICameraVideoTrack, IMicrophoneAudioTrack } from \"agora-rtc-react\";\r\nimport { AGORA_APP_ID } from \"../agora.config\";\r\nimport ReactPlayer from 'react-player';\r\nimport http from '../http'\r\nexport const VideoCallPage = () => {  \r\n     const navigate = useNavigate();\r\n     const {id} = useParams(); \r\n      \r\n      const[allusers, setUsers] = useState([]);\r\n      const[allvideos, setVideos] = useState([]);\r\n      const[allstart, setStart] = useState([]);\r\n         useEffect(()=>{\r\n            fetchAllUsers();\r\n         },[]);\r\n\r\n         useEffect(()=>{\r\n            fetchAgoraToken();\r\n         },[]);\r\n\r\n      const config = {mode: \"rtc\", codec: \"vp8\"}  \r\n      const useClient = createClient(config);\r\n      const useMicrophoneAndCameraTracks = createMicrophoneAndCameraTracks();\r\n     // console.log(useMicrophoneAndCameraTracks); \r\n      const client = useClient();\r\n      const { ready, tracks } = useMicrophoneAndCameraTracks();\r\n     \r\n\r\n      const fetchAllUsers = () => {\r\n            const tokenString = sessionStorage.getItem('token');\r\n           // const userToken = JSON.stringify(tokenString);\r\n            //console.log(userToken);\r\n            if(tokenString === null){\r\n               alert('Please Login!')\r\n               navigate('/Login');\r\n            }\r\n   \r\n         http.get('/userdetails/'+id).then(res=>{\r\n           try{\r\n            //setChatusers(res.data);\r\n              console.log(res.data);\r\n            }catch(e){\r\n              console.log('error', e);        \r\n            }\r\n         })\r\n        }\r\n      const channelName = 'DemoChannel';   \r\n      const fetchAgoraToken = () => {\r\n         const userString = sessionStorage.getItem('user');\r\n         const user_details = JSON.parse(userString);\r\n         //console.log(user_details.id);\r\n         if(user_details !== null){\r\n            const username = user_details.name;\r\n            http.post('/agora/token',{channelName:channelName,user:username}).then(res=>{\r\n               try{\r\n                  console.log(res.data);\r\n                  console.log(tracks);\r\n               }catch(e){\r\n                  console.log('error', e);        \r\n               }\r\n            })\r\n         }   \r\n      } \r\n      \r\n      useEffect(() => {\r\n         // function to initialise the SDK\r\n         const userString = sessionStorage.getItem('user');\r\n         const user_details = JSON.parse(userString);\r\n         let init = async (name: user_details.name) => {\r\n           console.log(\"init\", name);\r\n           client.on(\"user-published\", async (user, mediaType) => {\r\n             await client.subscribe(user, mediaType);\r\n             console.log(\"subscribe success\");\r\n             if (mediaType === \"video\") {\r\n               setUsers((prevUsers) => {\r\n                 return [...prevUsers, user];\r\n               });\r\n             }\r\n            //  if (mediaType === \"audio\") {\r\n            //    user.audioTrack?.play();\r\n            //  }\r\n           });\r\n     \r\n           client.on(\"user-unpublished\", (user, type) => {\r\n             console.log(\"unpublished\", user, type);\r\n            //  if (type === \"audio\") {\r\n            //    user.audioTrack?.stop();\r\n            //  }\r\n             if (type === \"video\") {\r\n               setUsers((prevUsers) => {\r\n                 return prevUsers.filter((User) => User.uid !== user.uid);\r\n               });\r\n             }\r\n           });\r\n     \r\n           client.on(\"user-left\", (user) => {\r\n             console.log(\"leaving\", user);\r\n             setUsers((prevUsers) => {\r\n               return prevUsers.filter((User) => User.uid !== user.uid);\r\n             });\r\n           });\r\n     \r\n           await client.join(config.appId, name, config.token, null);\r\n           if (tracks) await client.publish([tracks[0], tracks[1]]);\r\n           setStart(true);\r\n     \r\n         };\r\n     \r\n         if (ready && tracks) {\r\n           console.log(\"init ready\");\r\n           init(channelName);\r\n         }\r\n     \r\n       }, [channelName, client, ready, tracks]);\r\nreturn (\r\n<>\r\n<section>\r\n   <div className=\"video-call-section\">\r\n            <div className=\"card\">\r\n               <div className=\"chat\">\r\n                  <div className=\"clearfix\">\r\n                     <div className=\"col-12\">\r\n                        <div className=\"video-call\">\r\n                        <ReactPlayer url='https://www.youtube.com/watch?v=ysz5S6PUM-U' width=\"100%\" height=\"100%\" />\r\n                        </div>\r\n                        <div class=\"video-sm\">\r\n                        <ReactPlayer url='https://www.youtube.com/watch?v=ysz5S6PUM-U' width={100} height=\"100\" />\r\n                        </div>\r\n                     </div>\r\n                  </div>\r\n                  <div className=\"chat-i-refresh\">\r\n                     <Link to=\"/VideoChat\">\r\n                     <i className=\"fa fa-refresh \"></i></Link>\r\n                  </div>\r\n                  <div className=\"videocall-btn-section\">\r\n                     <Link to=\"/VideoCallPage\">\r\n                     <span className=\"btn3\"><i className=\"fa fa-microphone\"></i></span></Link>\r\n                     <Link to=\"/VideoCallPage\">\r\n                     <span className=\"btn3\">Hold</span></Link>\r\n                     <Link to=\"/Chat\">\r\n                     <span className=\"btn2\"><i className=\"fa fa-phone icon-rotate\"></i></span></Link>\r\n                     <Link to=\"/VideoCallPage\">\r\n                     <span className=\"btn3\"><i className=\"fa fa-user-plus\"></i></span></Link>\r\n                     <Link to=\"/VideoCallPage\">\r\n                     <span className=\"btn3\"><i className=\"fa fa-video-camera\"></i></span></Link>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </div>\r\n   </section>\r\n</>\r\n)\r\n}\r\nexport default VideoCallPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}