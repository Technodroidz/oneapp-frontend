{"ast":null,"code":"import _slicedToArray from \"/Applications/XAMPP/xamppfiles/htdocs/oneapp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport axios from \"axios\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nexport default function AuthUser() {\n  var navigate = useNavigate();\n\n  var getToken = function getToken() {\n    var tokenString = sessionStorage.getItem('token');\n    var userToken = JSON.stringify(tokenString);\n    return tokenString;\n  };\n\n  var getUser = function getUser() {\n    var userString = sessionStorage.getItem('user');\n    var user_details = JSON.stringify(userString);\n    return user_details;\n  };\n\n  var _useState = useState(getToken()),\n      _useState2 = _slicedToArray(_useState, 2),\n      token = _useState2[0],\n      setToken = _useState2[1];\n\n  var _useState3 = useState(getUser()),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  var saveToken = function saveToken(user, token) {\n    sessionStorage.setItem('token', JSON.stringify(token));\n    sessionStorage.setUser('user', JSON.stringify(user));\n    setToken(token);\n    setUser(user);\n    navigate('/');\n  };\n\n  var http = axios.create({\n    baseURL: \"http://localhost:8000/api\",\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  });\n  return {\n    setToken: saveToken,\n    token: token,\n    user: user,\n    getToken: getToken,\n    http: http\n  };\n}","map":{"version":3,"names":["axios","Navigate","useNavigate","AuthUser","navigate","getToken","tokenString","sessionStorage","getItem","userToken","JSON","stringify","getUser","userString","user_details","useState","token","setToken","user","setUser","saveToken","setItem","http","create","baseURL","headers"],"sources":["/Applications/XAMPP/xamppfiles/htdocs/oneapp/frontend/src/AuthUser.js"],"sourcesContent":["import axios from \"axios\";\nimport { Navigate, useNavigate } from \"react-router-dom\";\nexport default function AuthUser(){\n    \n    const navigate = useNavigate();\n\n    const getToken = () => {\n        const tokenString = sessionStorage.getItem('token');\n        const userToken = JSON.stringify(tokenString);\n        return tokenString;\n    }\n\n    const getUser = () => {\n        const userString = sessionStorage.getItem('user');\n        const user_details = JSON.stringify(userString);\n        return user_details;\n    }\n\n    const [token, setToken] = useState(getToken());\n    const [user, setUser] = useState(getUser());\n\n    const saveToken = (user,token) => {\n        sessionStorage.setItem('token',JSON.stringify(token));\n        sessionStorage.setUser('user',JSON.stringify(user));\n\n        setToken(token);\n        setUser(user);\n        navigate('/');\n    }\n\n    const http = axios.create({\n        baseURL:\"http://localhost:8000/api\",\n        headers:{\n           \"Content-type\":\"application/json\"\n        }\n    });\n\n    return {\n        setToken:saveToken,\n        token,\n        user,\n        getToken,\n        http\n    }\n}\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,kBAAtC;AACA,eAAe,SAASC,QAAT,GAAmB;EAE9B,IAAMC,QAAQ,GAAGF,WAAW,EAA5B;;EAEA,IAAMG,QAAQ,GAAG,SAAXA,QAAW,GAAM;IACnB,IAAMC,WAAW,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAApB;IACA,IAAMC,SAAS,GAAGC,IAAI,CAACC,SAAL,CAAeL,WAAf,CAAlB;IACA,OAAOA,WAAP;EACH,CAJD;;EAMA,IAAMM,OAAO,GAAG,SAAVA,OAAU,GAAM;IAClB,IAAMC,UAAU,GAAGN,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAnB;IACA,IAAMM,YAAY,GAAGJ,IAAI,CAACC,SAAL,CAAeE,UAAf,CAArB;IACA,OAAOC,YAAP;EACH,CAJD;;EAV8B,gBAgBJC,QAAQ,CAACV,QAAQ,EAAT,CAhBJ;EAAA;EAAA,IAgBvBW,KAhBuB;EAAA,IAgBhBC,QAhBgB;;EAAA,iBAiBNF,QAAQ,CAACH,OAAO,EAAR,CAjBF;EAAA;EAAA,IAiBvBM,IAjBuB;EAAA,IAiBjBC,OAjBiB;;EAmB9B,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACF,IAAD,EAAMF,KAAN,EAAgB;IAC9BT,cAAc,CAACc,OAAf,CAAuB,OAAvB,EAA+BX,IAAI,CAACC,SAAL,CAAeK,KAAf,CAA/B;IACAT,cAAc,CAACY,OAAf,CAAuB,MAAvB,EAA8BT,IAAI,CAACC,SAAL,CAAeO,IAAf,CAA9B;IAEAD,QAAQ,CAACD,KAAD,CAAR;IACAG,OAAO,CAACD,IAAD,CAAP;IACAd,QAAQ,CAAC,GAAD,CAAR;EACH,CAPD;;EASA,IAAMkB,IAAI,GAAGtB,KAAK,CAACuB,MAAN,CAAa;IACtBC,OAAO,EAAC,2BADc;IAEtBC,OAAO,EAAC;MACL,gBAAe;IADV;EAFc,CAAb,CAAb;EAOA,OAAO;IACHR,QAAQ,EAACG,SADN;IAEHJ,KAAK,EAALA,KAFG;IAGHE,IAAI,EAAJA,IAHG;IAIHb,QAAQ,EAARA,QAJG;IAKHiB,IAAI,EAAJA;EALG,CAAP;AAOH"},"metadata":{},"sourceType":"module"}